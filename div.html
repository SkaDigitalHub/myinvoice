<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EliteInvoice Pro | Professional Invoice Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 30px;
            color: #333;
        }
        #invoice {
            width: 95%;
            max-width: 850px;
            margin: 30px auto;
            background-color: #fff;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
        }
        .invoice-header {
            display: column;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
            text-align: center;
        }
        .company-info {
            flex: 1;
            text-align: center;
            align-items: center;

        }
        .company-info h2 {
            color: #2c3e50;
            margin: 0 0 5px 0;
            font-size: 24px;
        }
        .company-info p {
            margin: 5px 0;
            color: #7f8c8d;
            font-size: 14px;
        }
        .invoice-title {
            text-align: center;
            align-items: center;
        }
        .invoice-title h1 {
            color: #3498db;
            margin: 0;
            font-size: 32px;
            font-weight: 600;
        }
        .invoice-title p {
            margin: 5px 0 0 0;
            color: #7f8c8d;
            font-size: 14px;
        }
        .invoice-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 15px 20px;
            align-items: left;
            text-align: left;
            border-radius: 6px;
        }
        .client-info, .invoice-meta {
            flex: 1;
        }
        .client-info h3, .invoice-meta h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 16px;
        }
        .client-info p, .invoice-meta p {
            margin: 5px 0;
            color: #555;
            font-size: 14px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        th {
            background-color: #3498db;
            color: white;
            font-weight: 500;
            padding: 12px 15px;
            text-align: left;
        }
        td {
            padding: 5px 5px;
            border-bottom: 1px solid #eaeaea;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: inherit;
            font-size: 14px;
        }
        input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        button {
            padding: 10px 18px;
            margin: 5px;
            border: none;
            background-color: #3498db;
            color: #fff;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
        .delete-row {
            background-color: #e74c3c;
        }
        .delete-row:hover {
            background-color: #c0392b;
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
        }
        .total-section {
            text-align: right;
            font-size: 18px;
            font-weight: 600;
            margin: 30px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .total-section span {
            color: #3498db;
            font-size: 24px;
        }
        .download-buttons {
            text-align: center;
            margin-top: 30px;
        }
        .download-buttons button {
            margin: 0 8px;
        }
        .action-column {
            width: 100px;
            text-align: center;
        }
        @media (max-width: 768px) {
            #invoice {
                width: 95%;
                padding: 20px;
            }
            .invoice-header, .invoice-details {
                flex-direction: column;
            }
            .invoice-title {
                text-align: center;
                margin-top: 20px;
            }
            .client-info, .invoice-meta {
                margin-bottom: 20px;
            }
            table {
            width: 95%;
            border-collapse: collapse;
            margin-bottom: 15px;
            }
            .download-buttons {
            text-align: center;
            margin-top: 30px;
            }
           .download-buttons button {
            margin: 5px 8px;
           }
        }
        
/* Combined Print/PDF and Output Version Styles */
@media print {
  /* Page layout adjustments */
  body {
  padding-top: 0 !important;  /* Removes extra space at the top */
  margin-top: 0 !important;   /* Ensures content starts at the very top */
}
  
  /* Invoice container styling */
  #invoice {
    margin: 0 !important;
    padding: 0.5in !important;
    width: 100% !important;
    max-width: 100% !important;
    box-shadow: none !important;
    border: none !important;
  }

  /* Table and cell formatting */
  table {
    border: 1px solid #ddd !important;
  }
  th, td {
    border: 1px solid #ddd !important;
    line-height: 1.5 !important;
    padding-top: 3px !important;
    padding-bottom: 1px !important;
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    height: auto !important;
    min-height: 1em !important;
  }

  /* Text elements */
  p, .product {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    height: auto !important;
    min-height: 1em !important;
  }

  /* Input fields */
  input {
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
    height: auto !important;
  }

  /* Hide interactive elements */
  button, .delete-row, #add-row, .download-buttons {
    display: none !important;
  }
}    
/* Output version styles (for PDF/image generation) */
.output-version #invoice {
    border: none;
    box-shadow: none;
    padding: 0;
}
.output-version button,
.output-version .delete-row,
.output-version #add-row,
.output-version .download-buttons {
    display: none !important;
}
.output-version input {
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
}
.output-version table {
    border: 1px solid #ddd;
}
.output-version th, 
.output-version td {
    border: 1px solid #ddd;
}
   
    </style>
</head>
<body>
    <div id="invoice">
        <div class="invoice-header">
            <div class="company-info">
                <h2>EliteInvoice Pro</h2>
                <p>123 Business Avenue, Suite 456</p>
                <p>New York, NY 10001, USA</p>
                <p>Phone: (555) 123-4567 | Email: info@eliteinvoice.com</p>
                <p>Website: www.eliteinvoice.com</p>
            </div><br><br>
            <div class="invoice-title">
                <h1>INVOICE</h1>
                <p>Professional Billing Statement</p>
            </div>
        </div>
        
        <div class="invoice-details">
            <div class="client-info">
                <h3>BILL TO:</h3>
                <p><input type="text" id="client-name" placeholder="Client Name" style="width: 100%;"></p>
                <p><input type="text" id="client-address" placeholder="Client Address" style="width: 100%;"></p>
                <p><input type="text" id="client-email" placeholder="Client Email" style="width: 100%;"></p>
            </div>
            <div class="invoice-meta">
                <h3>INVOICE DETAILS</h3>
                <p>Date: <input type="date" id="date" value="2025-05-02" style="width: 150px;"></p>
                <p>Invoice #: <input type="text" id="invoice-number" value="INV001" style="width: 150px;"></p>
                <p>Due Date: <input type="date" id="due-date" value="2025-05-16" style="width: 150px;"></p>
                <p>Payment Terms: <input type="text" id="payment-terms" value="Net 15" style="width: 150px;"></p>
            </div>
        </div>
        <div>
        <table id="invoice-table">
            <thead>
                <tr>
                    <th>Description</th>
                    <th width="12%">Qty</th>
                    <th width="18%">Unit Price</th>
                    <th width="18%">Amount</th>
                    <th width="10%" class="action-column">Action</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <!-- Initial row -->
                <tr>
                    <td><input type="text" class="product" placeholder="Product/Service Description"></td>
                    <td><input type="number" class="unit" value="1" min="1"></td>
                    <td><input type="number" class="price" placeholder="0.00" step="0.01"></td>
                    <td><input type="text" class="amount" readonly></td>
                    <td class="action-column"><button class="delete-row">Delete</button></td>
                </tr>
            </tbody>
        </table>
        </div>
        <div class="action-buttons">
            <button id="add-row">+ Add Item</button>
            <div>
                <small style="font-size: 0.5em; color: #3498db">Add as many items as needed</small>
            </div>
        </div>
        
        <div class="total-section">
            TOTAL DUE: $<span id="total">0.00</span>
        </div>
        
        <div class="invoice-footer" style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eaeaea;">
            <p style="text-align: center; color: #7f8c8d; font-size: 13px;">
                Thank you for your business! Payment can be made via bank transfer or credit card.<br>
                <strong>Bank Details:</strong> EliteInvoice Pro | Account #: 123456789 | Routing #: 987654321<br>
                <strong>Late payments</strong> are subject to a 1.5% monthly finance charge.
            </p>
        </div>
        
        <div class="download-buttons">
            <button id="download-pdf">Download PDF</button>
            <button id="download-png">Download PNG</button>
            <button id="download-jpg">Download JPG</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('date').value = formattedDate;
            
            // Set due date (15 days from now)
            const dueDate = new Date();
            dueDate.setDate(today.getDate() + 15);
            document.getElementById('due-date').value = dueDate.toISOString().split('T')[0];
            
            // Generate random invoice number
            const randomNum = Math.floor(Math.random() * 10000);
            document.getElementById('invoice-number').value = `INV${today.getFullYear()}${String(today.getMonth() + 1).padStart(2, '0')}${randomNum}`;
            
            // Add initial event listeners
            initializeInvoice();
            
            // Calculate total on load
            calculateTotal();
        });

        function initializeInvoice() {
            // Add row button
            document.getElementById('add-row').addEventListener('click', addNewRow);
            
            // Delete row functionality
            document.getElementById('table-body').addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-row')) {
                    e.target.closest('tr').remove();
                    calculateTotal();
                }
            });
            
            // Calculate amounts when values change
            document.getElementById('table-body').addEventListener('input', function(e) {
                if (e.target.classList.contains('unit') || e.target.classList.contains('price')) {
                    calculateRowAmount(e.target.closest('tr'));
                    calculateTotal();
                }
            });
            
            // Download buttons
            document.getElementById('download-pdf').addEventListener('click', generatePDF);
            document.getElementById('download-png').addEventListener('click', function() { generateImage('png'); });
            document.getElementById('download-jpg').addEventListener('click', function() { generateImage('jpeg'); });
        }

        function addNewRow() {
            const tableBody = document.getElementById('table-body');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="text" class="product" placeholder="Product/Service Description"></td>
                <td><input type="number" class="unit" value="1" min="1"></td>
                <td><input type="number" class="price" placeholder="0.00" step="0.01"></td>
                <td><input type="text" class="amount" readonly></td>
                <td class="action-column"><button class="delete-row">Delete</button></td>
            `;
            tableBody.appendChild(newRow);
        }

        function calculateRowAmount(row) {
            const unit = parseFloat(row.querySelector('.unit').value) || 0;
            const price = parseFloat(row.querySelector('.price').value) || 0;
            const amount = unit * price;
            row.querySelector('.amount').value = amount.toFixed(2);
        }

        function calculateTotal() {
            let total = 0;
            const amountInputs = document.querySelectorAll('.amount');
            
            amountInputs.forEach(input => {
                total += parseFloat(input.value) || 0;
            });
            
            document.getElementById('total').textContent = total.toFixed(2);
        }

        function generatePDF() {
            const element = document.getElementById('invoice');
            const opt = {
                margin: 10,
                filename: 'invoice.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { 
                    scale: 2,
                    onclone: function(clonedDoc) {
                        clonedDoc.getElementById('invoice').classList.add('output-version');
                        // Remove action columns from the cloned version
                        const actionColumns = clonedDoc.querySelectorAll('.action-column');
                        actionColumns.forEach(col => col.style.display = 'none');
                    }
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            // Generate PDF
            html2pdf().set(opt).from(element).save();
        }

        function generateImage(format) {
            const element = document.getElementById('invoice');
            
            html2canvas(element, {
                scale: 2,
                logging: false,
                useCORS: true,
                onclone: function(clonedDoc) {
                    clonedDoc.getElementById('invoice').classList.add('output-version');
                    // Remove action columns from the cloned version
                    const actionColumns = clonedDoc.querySelectorAll('.action-column');
                    actionColumns.forEach(col => col.style.display = 'none');
                }
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `invoice.${format}`;
                link.href = canvas.toDataURL(`image/${format}`);
                link.click();
            });
        }

        // Inline version of html2pdf and html2canvas to ensure they work without CDN
        // This is a simplified version - in production you should use the CDN versions
        function loadScript(url, callback) {
            const script = document.createElement('script');
            script.src = url;
            script.onload = callback;
            document.head.appendChild(script);
        }

        // Load required libraries
        if (typeof html2pdf === 'undefined') {
            loadScript('https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js', function() {
                console.log('html2pdf loaded');
            });
        }

        if (typeof html2canvas === 'undefined') {
            loadScript('https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js', function() {
                console.log('html2canvas loaded');
            });
        }
    </script>
</body>
  </html> 
